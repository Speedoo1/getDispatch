{% extends 'base/navbar.html'%}
{%load static %}
{% block body%}
 <main id="main-site">

        <!--   product  -->
            <section id="pres" class="py-3">
                <div class="container">
                     {% for message in messages%}

                    <div class="alert {{message.tags}} alert-dismissible" role="alert">
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="True">&times;</span>
                      </button>
                      &nbsp;{{message}}

                  </div>
                   {%endfor%}
                    <div class="row">
                        <div class="col-sm-6">
                            <img src="{{getride.image.url}}" id ='bigimage' width="600" alt="product" class="img-fluid mt-5"><br>

                            <section id="pre" >


                              <div class="owl-carousel owl-theme"  >
                                   <div class="item ml-3" >
                                  <img src="{{getride.image.url}}" id="bigimageb" onclick="change('bigimageb')" width="40" alt="product" class="mt-3">

                                </div>
                                <div class="item ml-3" >
                                  <img src="{{getride.preview1.url}}" id="preview1" onclick="change('preview1')" width="40" alt="product" class="mt-3">

                                </div>
                                <div class="item ml-3">
                                  <img src="{{getride.preview2.url}}"  id="preview2" onclick="change('preview2')" width="20" alt="product" class="mt-3">

                                </div>
                                <div class="item ml-3">
                                  <img src="{{getride.preview3.url}}"  id="preview3" onclick="change('preview3')" width="20" alt="product" class="mt-3">

                                </div>
                                <div class="item ml-3">
                                  <img src="{{getride.preview4.url}}"  id="preview4" onclick="change('preview4')" width="20" alt="product" class="mt-3">

                                </div>
                                <div class="item ml-3">
                                  <img src="{{getride.preview5.url}}"  id="preview5" onclick="change('preview5')" width="40" alt="product" class="mt-3">

                                </div>



                              </div>
                            </section>


                            <div class="form-row pt-4 font-size-16 font-baloo">



                                    <a href="tel:{{getride.phoneNumber}}"   class="btn btn-secondary form-control ">Call Rider</a>



                                    <a href="{% url 'base:sendproposal' getride.id %}"   class="btn btn-success form-control mt-3">Send Proposal</a>



                            </div>
                        </div>
                        <div class="col-sm-6 py-5 mt-3">
                          <h3>Details About The Rider</h3>
                          <hr>
<!--                            8b78c035-5f88-4731-bace-717bcdfae106-->
                            <h3 class="font-baloo ">Name: {{getride.rideName}}</h3>
                            <h3 class="font-baloo ">State: {{getride.state}}</h3>
                            <h3 class="font-baloo ">local gov:{{getride.localGov}}</h3>
                            <h3 class="font-baloo ">Gender: Male</h3>
                            <h3 class="font-baloo ">Address: kk dasilver Avenue </h3>
                            <h3 class="font-baloo ">location: {{getride.location}}</h3>
                            <h3 class="font-baloo ">Vehicle Type: {{getride.rideType}}</h3>





                            <hr>
                            <div class="text-center">
                              <h3>Disclaimer</h3>
                            </div>










                        </div>

                        <div class="col-12">
                              <div class="container mt-5">
                                  <h3 class="font-rubik mt-3">Rider's Current Location</h3>

                             <iframe id="map" src="https://www.google.com/maps?q={{getride.latitude}},{{getride.longitude}}&h1=es;z=14&output=embed" allowfullscreen  loading="lazy" referrerpolicy="no-referrer-when-downgrade" width="100%" height="400" style="margin-top:20px;"></iframe>
                            <div class="text-center">
                                <a class="btn btn-secondary mt-3" onclick="riderlocation()" style="color:#fff;">Load Rider Current Location</a>
                            </div>


                    </div>
                            <h3 class="font-rubik mt-3">More About Rider</h3>
                            <hr>
                            <p class="font-rale font-size-14">{{getride.rideDescription}} Lorem ipsum dolor, sit amet consectetur adipisicing elit. Repellat inventore vero numquam error est ipsa, consequuntur temporibus debitis nobis sit, delectus officia ducimus dolorum sed corrupti. Sapiente optio sunt provident, accusantium eligendi eius reiciendis animi? Laboriosam, optio qui? Numquam, quo fuga. Maiores minus, accusantium velit numquam a aliquam vitae vel?</p>

                        </div>
                    </div>
                </div>
            </section>



          <!-- Top Sale -->
          <section id="top-sale">
            <div class="container  py-5"  >
              <h4 class="font-rubik font-size-20">More Riders</h4>
              <hr>
              <!-- owl carousel -->
                <div class="owl-carousel owl-theme" >
                  <div class="item py-2 " >
                     {% for i in rides %}
            <div class="">
             <div class="product font-rale">
                      <a href="#"><img src="{{i.image.url}}" alt="product1" height="175"  style="width:100%" class=""></a>
                      <div class="shadow">
                        <div class="text-center">
                          <h4>{{i.rideName}}</h4>
                        </div>

                        <p style="padding-left: 10px; height:75px;">
                          {{i.rideDescription|truncatewords:20}}
                        </p>
                        <br/>
                        <hr>

                        <div class="rating text-warning font-size-12 text-center ">
                           <span><i class="fa fa-map-marker" style="color: #00A5C4;">&nbsp;{{i.state}}</i></span>&nbsp;&nbsp;
                         <span><i class="fa fa-car" style="color: #00A5C4;">&nbsp;{{i.rideType}}</i></span>&nbsp;&nbsp;
                         <span><i class="fa" style="color: #00A5C4;">&#xf192; Active</i></span>
                        </div>
                        <hr>

                        <a href="{% url 'base:rideDetails' i.id %}" style="width: 100%; background-color:#00A5C4; color:#fff" class="btn  font-size-12">View More</a>
                      </div>
                    </div>
            </div>
        {%endfor%}
                  </div>
                </div>
              <!-- !owl carousel -->
            </div>
          </section>
        <!-- !Top Sale -->
          </main>


 <script>
var mapvar=document.getElementById('map');
    function change(imageid){

    var bigimage =document.getElementById('bigimage')
    var fi=imageid
    var preview = document.getElementById(fi)
    bigimage.src = preview.src
    }


function riderlocation(){
  $(document).ready(function(){
    $.ajax({
  type:'GET',
  url:"{% url 'base:maplocation'  getride.id %}",
  success:function(response){

           console.log(response['latitude']);
           console.log(response['longitude']);
        var mapvar=document.getElementById('map');
        mapvar.style.display='Block';
        mapvar.src="https://www.google.com/maps?q="+response['latitude']+","+response['longitude']+"&output=embed";


  },
  error:function(response){
  console.log('error occur'+response)
  }

  });


  });


}


riderlocation();

 </script>

{% endblock %}